var Drag={obj:null,init:function(o,t,e,n,a,r,l,m,s,i){o.onmousedown=Drag.start,o.hmode=!l,o.vmode=!m,o.root=t&&null!=t?t:o,o.hmode&&isNaN(parseInt(o.root.style.left))&&(o.root.style.left="0px"),o.vmode&&isNaN(parseInt(o.root.style.top))&&(o.root.style.top="0px"),!o.hmode&&isNaN(parseInt(o.root.style.right))&&(o.root.style.right="0px"),!o.vmode&&isNaN(parseInt(o.root.style.bottom))&&(o.root.style.bottom="0px"),o.minX=void 0!==e?e:null,o.minY=void 0!==a?a:null,o.maxX=void 0!==n?n:null,o.maxY=void 0!==r?r:null,o.xMapper=s||null,o.yMapper=i||null,o.root.onDragStart=new Function,o.root.onDragEnd=new Function,o.root.onDrag=new Function},start:function(o){var t=Drag.obj=this
o=Drag.fixE(o)
var e=parseInt(t.vmode?t.root.style.top:t.root.style.bottom),n=parseInt(t.hmode?t.root.style.left:t.root.style.right)
return t.root.onDragStart(n,e),t.lastMouseX=o.clientX,t.lastMouseY=o.clientY,t.hmode?(null!=t.minX&&(t.minMouseX=o.clientX-n+t.minX),null!=t.maxX&&(t.maxMouseX=t.minMouseX+t.maxX-t.minX)):(null!=t.minX&&(t.maxMouseX=-t.minX+o.clientX+n),null!=t.maxX&&(t.minMouseX=-t.maxX+o.clientX+n)),t.vmode?(null!=t.minY&&(t.minMouseY=o.clientY-e+t.minY),null!=t.maxY&&(t.maxMouseY=t.minMouseY+t.maxY-t.minY)):(null!=t.minY&&(t.maxMouseY=-t.minY+o.clientY+e),null!=t.maxY&&(t.minMouseY=-t.maxY+o.clientY+e)),document.onmousemove=Drag.drag,document.onmouseup=Drag.end,!1},drag:function(o){o=Drag.fixE(o)
var t,e,n=Drag.obj,a=o.clientY,r=o.clientX,l=parseInt(n.vmode?n.root.style.top:n.root.style.bottom),m=parseInt(n.hmode?n.root.style.left:n.root.style.right)
return null!=n.minX&&(r=n.hmode?Math.max(r,n.minMouseX):Math.min(r,n.maxMouseX)),null!=n.maxX&&(r=n.hmode?Math.min(r,n.maxMouseX):Math.max(r,n.minMouseX)),null!=n.minY&&(a=n.vmode?Math.max(a,n.minMouseY):Math.min(a,n.maxMouseY)),null!=n.maxY&&(a=n.vmode?Math.min(a,n.maxMouseY):Math.max(a,n.minMouseY)),t=m+(r-n.lastMouseX)*(n.hmode?1:-1),e=l+(a-n.lastMouseY)*(n.vmode?1:-1),n.xMapper?t=n.xMapper(l):n.yMapper&&(e=n.yMapper(m)),Drag.obj.root.style[n.hmode?"left":"right"]=t+"px",Drag.obj.root.style[n.vmode?"top":"bottom"]=e+"px",Drag.obj.lastMouseX=r,Drag.obj.lastMouseY=a,Drag.obj.root.onDrag(t,e),!1},end:function(){document.onmousemove=null,document.onmouseup=null,Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode?"left":"right"]),parseInt(Drag.obj.root.style[Drag.obj.vmode?"top":"bottom"])),Drag.obj=null},fixE:function(o){return void 0===o&&(o=window.event),void 0===o.layerX&&(o.layerX=o.offsetX),void 0===o.layerY&&(o.layerY=o.offsetY),o}}
